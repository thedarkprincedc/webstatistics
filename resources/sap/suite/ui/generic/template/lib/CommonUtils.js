sap.ui.define(["jquery.sap.global","sap/ui/base/Object","sap/ui/Device","sap/ui/model/Context","sap/ui/model/json/JSONModel","sap/m/Table","sap/m/ListBase","sap/m/MessageBox","sap/ui/generic/app/navigation/service/NavigationHandler","sap/ui/generic/app/navigation/service/NavError","sap/suite/ui/generic/template/lib/testableHelper"],function(q,B,D,C,J,R,L,M,N,a,t){"use strict";function g(p,E){for(var i in p){var o=p[i];if(o.entitySet===E&&o.component.list&&o.navigationProperty){return o.navigationProperty;}else if(o.pages){var r=g(o.pages,E);if(r){return r;}}}}function b(o,p){var F=sap.ui.require(p);return typeof F==="function"&&(o instanceof F);}function c(o){return b(o,"sap/ui/comp/smarttable/SmartTable");}function d(o){return b(o,"sap/ui/comp/smartchart/SmartChart");}function e(o){return b(o,"sap/ui/table/Table");}function f(o){return b(o,"sap/ui/table/AnalyticalTable");}var c=t.testableStatic(c,"CommonUtils_isSmartTable");function h(o,s,l){var n;function A(i){s.oApplication.attachControlToParent(i,o.getView());}function m(i,j,k,q1){return s.oApplication.getDialogFragmentForView(o.getView(),i,j,k,q1);}var r;function p(){r=r||o.getOwnerComponent().getModel("i18n").getResourceBundle();return r.getText.apply(r,arguments);}function u(i){var j=i.getSelectionBehavior();if(j==="DATAPOINT"){return{"dataPoints":i.getSelectedDataPoints().dataPoints,"count":i.getSelectedDataPoints().count};}else if(j==="CATEGORY"){return{"dataPoints":i.getSelectedCategories().categories,"count":i.getSelectedCategories().count};}else if(j==="SERIES"){return{"dataPoints":i.getSelectedSeries().series,"count":i.getSelectedSeries().count};}}function v(j){var k=[];if(c(j)){j=j.getTable();}else if(d(j)){j=j.getChart();if(j&&j.getMetadata().getName()==="sap.chart.Chart"){var q1,r1=false;q1=u(j);if(q1&&q1.count>0){if(j.getSelectionBehavior()==="DATAPOINT"){r1=true;}var s1=q1.dataPoints;var t1=[];for(var i=0;i<s1.length;i++){if(r1){if(s1[i].context){k.push(s1[i].context);}}else{t1.push(s1[i].dimensions);}}if(!r1){k[0]=t1;}}}}if(j instanceof L){k=j.getSelectedContexts();}else if(e(j)){var u1=j.getSelectedIndices();for(var i=0;i<u1.length;i++){k.push(j.getContextByIndex(u1[i]));}}return k;}function w(i){var j={};if(i instanceof sap.ui.core.Element){i.getCustomData().forEach(function(k){j[k.getKey()]=k.getValue();});}return j;}function S(j){var k,q1,r1,s1,t1,u1;var v1=P(j);if(!c(v1)&&!d(v1)){v1=v1.getParent();}var w1=v(v1);var x1=v1.getModel();var y1=x1.getMetaModel();var z1=o.getView();if(c(v1)){k=v1.getCustomToolbar()&&v1.getCustomToolbar().getContent();q1=H(v1);F(q1,w1,x1);}else if(d(v1)){k=v1.getToolbar()&&v1.getToolbar().getContent();var A1=o.getOwnerComponent().getAppComponent();var B1=A1.getConfig();if(o.getMetadata().getName()==='sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage'){q1=I(v1);F(q1,w1,x1,v1);}else if(B1&&B1.pages[0]&&B1.pages[0].component&&B1.pages[0].component.settings&&B1.pages[0].component.settings.quickVariantSelectionX){q1=I(v1);F(q1,w1,x1);}}if(k&&k.length>0){for(var i=0;i<k.length;i++){t1=undefined;r1=k[i];if(r1.getMetadata().getName()==="sap.m.Button"&&r1.getVisible()){u1=w(r1);if(u1&&u1.Type){s1=z1.getLocalId(r1.getId());if(u1.Type==="CRUDActionDelete"){t1=E(x1,y1,w1,v1);v1.getModel("_templPriv").setProperty("/listReport/deleteEnabled",t1);}else if(u1.Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||u1.Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){t1=z(x1,y1,w1,u1.Type,u1.Action,v1);}}if(/generic\/controlProperties/.test(r1.getBindingPath("enabled"))&&t1!==undefined){y(s1,"enabled",t1);}}}}}function x(i){var j;var k=P(i);var q1=v(k);var r1=i.getModel();j=K();F(j,q1,r1,k);}function y(i,j,k){var q1=o.getView().getModel("_templPriv");var r1=q1.getProperty("/generic/controlProperties/"+i);if(!r1){r1={};r1[j]=k;q1.setProperty("/generic/controlProperties/"+i,r1);}else{q1.setProperty("/generic/controlProperties/"+i+"/"+j,k);}}function z(i,k,q1,r1,s1,t1){var u1,v1,w1,x1;var y1=false;if(r1==="com.sap.vocabularies.UI.v1.DataFieldForAction"){u1=k.getODataFunctionImport(s1);w1=u1&&u1["sap:action-for"];if(w1&&w1!==""&&w1!==" "){if(q1.length>0){x1=u1["sap:applicable-path"];if(x1&&x1!==""&&x1!==" "){for(var j=0;j<q1.length;j++){if(!q1[j]){continue;}v1=i.getObject(q1[j].getPath());if(v1&&v1[x1]===true){y1=true;break;}}}else{y1=true;}}}else{y1=true;}}else if(r1==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){if(q1.length>0||(d(t1)&&t1.getDrillStackFilters().length>0)){y1=true;}}return y1;}function E(j,k,q1,r1){var s1=G(r1);var t1=false;var u1=k.getODataEntitySet(r1.getEntitySet());if(sap.suite.ui.generic.template.js.AnnotationHelper.areDeleteRestrictionsValid(k,u1.entityType,s1)){if(q1.length>0){var v1=s1&&s1.Deletable&&s1.Deletable.Path;if(v1){for(var i=0;i<q1.length;i++){if(q1[i]&&j.getProperty(v1,q1[i])){t1=true;break;}}}else{t1=true;}}}return t1;}function G(i){var j=i.getModel()&&i.getModel().getMetaModel();var k=j&&j.getODataEntitySet(i.getEntitySet());var q1=k&&k["Org.OData.Capabilities.V1.DeleteRestrictions"];return q1;}function F(i,j,k,q1){var r1=O(k);var s1=o.getView().getModel("_templPriv");var t1=s1.getProperty("/generic/listCommons/breakoutActionsEnabled");if(r1){var u1=o.byId("template::IconTabBar");var v1="";if(u1){v1=u1.getSelectedKey();}U(t1,r1,i,j,k,v1,q1);}s1.setProperty("/generic/listCommons/breakoutActionsEnabled",t1);}function U(i,j,k,q1,r1,s1,t1){var u1;for(var v1 in j){var w1=j[v1].id;if(s1&&!j[v1].determining){w1=w1.concat("-",s1);}if(q.inArray(w1,k)!==-1){u1=true;if(j[v1].requiresSelection){if(q1.length>0){if(j[v1].applicablePath!==undefined&&j[v1].applicablePath!==""){u1=false;for(var x1=0;x1<q1.length;x1++){var y1="";var z1=j[v1].applicablePath.split("/");if(z1.length>1){for(var A1=0;A1<z1.length-1;A1++){y1+="/"+z1[A1];}}var B1=r1.getObject(q1[x1].getPath()+y1);var C1=z1[z1.length-1];if(B1[C1]===true){u1=true;break;}}}}else if(d(t1)&&t1.getDrillStackFilters().length>0){u1=true;}else{u1=false;}}i[w1]={enabled:u1};}}}function H(i){var j=[];var k=q.grep(i.getCustomToolbar().getContent(),function(s1){return s1.getMetadata().getName()==="sap.m.Button";});for(var q1=0;q1<k.length;q1++){var r1=k[q1].getId().split("--");j.push(r1[r1.length-1]);}return j;}function I(i){var j=[];var k=q.grep(i.getToolbar().getContent(),function(s1){return s1.getMetadata().getName()==="sap.m.Button";});for(var q1=0;q1<k.length;q1++){var r1=k[q1].getId().split("--");j.push(r1[r1.length-1]);}return j;}function K(){var i=[];var j=[];var k=o.byId("page");if(k&&k.getFooter()){j=q.grep(k.getFooter().getContent(),function(s1){return s1.getMetadata().getName()==="sap.m.Button";});}for(var q1=0;q1<j.length;q1++){var r1=j[q1].getId().split("--");i.push(r1[r1.length-1]);}return i;}function O(i){var j=o.getOwnerComponent().getAppComponent().getManifestEntry("sap.ui5");var k=j.extends&&j.extends.extensions&&j.extends.extensions["sap.ui.controllerExtensions"];if(k){var q1=(k[o.getOwnerComponent().getTemplateName()]||{})["sap.ui.generic.app"]||{};var r1=i.getMetaModel();var s1=(q1[r1.getODataEntitySet(o.getOwnerComponent().getEntitySet()).name]||{})["Actions"];if(!s1){s1={};var t1=(q1[r1.getODataEntitySet(o.getOwnerComponent().getEntitySet()).name]||{})["Sections"];if(t1){for(var u1 in t1){s1=q.extend(s1,t1[u1]["Actions"]);}}}return s1;}}function P(i){var j=i;while(j){if(j instanceof R||e(j)||c(j)||d(j)){return j;}j=j.getParent&&j.getParent();}return null;}function Q(i){if(c(i)){i=i.getTable();}if(e(i)){return i.getBindingInfo("rows");}else if(i instanceof R){return i.getBindingInfo("items");}return null;}function T(i){var j=Q(i);if(j&&j.binding){j.binding.refresh();}else{i.rebindTable();}}function V(i){var j=o.getOwnerComponent().getModel();var k,q1;if(o.getMetadata().getName()==='sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage'){}else{var r1=!s.oApplication.checkEtags();if(r1){q1=Q(i);if(q1){k=q1.path;j.invalidate(W.bind(null,k));s.oApplication.unbindAllComponents();}}}}function W(i,k,j){var q1=i[0]==="/"?i.substr(1):i;if(k.split("(")[0]===q1){return true;}else{return false;}}function X(i,j){var k=i.getPath();var q1=o.getOwnerComponent();var r1=q1.getComponentContainer().getElementBinding();var s1=r1?r1.getPath():"";var t1=null;if(k.indexOf(s1)!==0){t1=Q(j).path;}var u1=!s.oApplication.isNewHistoryEntryRequired(i,t1);var v1;if(l.isDraftEnabled()){v1=s.oDraftController.isActiveEntity(i)?1:6;}else{v1=q1.getModel("ui").getProperty("/editable")?6:1;}var w1=l.getViewLevel();if(w1===0){var x1=s.oApplication.getForwardNavigationProperty(w1);}if(x1){var y1=new Promise(function(A1){i.getModel().createBindingContext(x1,i,null,function(B1){if(B1){s.oNavigationController.navigateToContext(B1,t1,u1,v1);A1();}else{l.navigateToDataLoadedFailedPage();A1();}});});var z1=s.oApplication.getBusyHelper();z1.setBusy(y1);}else{s.oNavigationController.navigateToContext(i,t1,u1,v1);}}function Y(i,j){if(i instanceof C){s.oNavigationController.navigateToContext(i,j&&j.navigationProperty,j&&j.replaceInHistory);return;}var k=j&&j.routeName;if(k){l.navigateRoute(k,i,null,j&&j.replaceInHistory);return;}q.sap.log.warning("navigateToContext called without context or route");}function Z(i){if(i instanceof a){if(i.getErrorCode()==="NavigationHandler.isIntentSupported.notSupported"){M.show(p("ST_NAV_ERROR_NOT_AUTHORIZED_DESC"),{title:p("ST_GENERIC_ERROR_TITLE")});}else{M.show(i.getErrorCode(),{title:p("ST_GENERIC_ERROR_TITLE")});}}}function $(i,j){g1(function(){n=n1();var k={semanticObject:i.semanticObject,action:i.action};var q1=n.mixAttributesAndSelectionVariant(i.parameters);o.adaptNavigationParameterExtension(q1,k);n.navigate(i.semanticObject,i.action,q1.toJSONString(),null,Z);},q.noop,j,"LeavePage");}function _(q1){var r1=[],s1,t1,u1;var v1=o.getOwnerComponent();var w1=v1.getModel().getMetaModel();if(!q1){return{};}var x1=v1.getAppComponent().getConfig().pages[0];if(!x1){return{};}var y1=function(i){u1=w1.getODataEntitySet(i.entitySet).entityType;t1=w1.getODataEntityType(u1);s1={};s1={entitySet:i.entitySet,aKeys:w1.getODataEntityType(u1).key.propertyRef,navigationProperty:i.navigationProperty};for(var j=0,A1=s1.aKeys.length;j<A1;j++){var k=0,B1=t1.property.length;for(k;k<B1;k++){if(s1.aKeys[j].name===t1.property[k].name){s1.aKeys[j].type=t1.property[k].type;break;}}}};var z1=function(q1,x1){if(!x1.pages){return r1;}for(var i=0,j=x1.pages.length;i<j;i++){if(!x1.pages[i]){break;}if(q1===x1.pages[i].entitySet){y1(x1.pages[i]);r1.splice(0,0,s1);break;}r1=z1(q1,x1.pages[i]);if(r1.length>0){y1(x1.pages[i]);r1.splice(0,0,s1);}}return r1;};return z1(q1,x1);}function a1(k,q1){var r1,s1,i,t1;for(i=0,t1=k.length;i<t1;i++){if(k[i].navigationProperty){s1+="/"+k[i].navigationProperty;}else{s1="/"+k[i].entitySet;}for(var j=0,u1=k[i].aKeys.length;j<u1;j++){if(j===0){s1+="(";r1="";}else{r1=",";}switch(k[i].aKeys[j].type){case"Edm.Guid":if(q1.DraftAdministrativeData&&q1.DraftAdministrativeData.DraftIsCreatedByMe){s1+=r1+k[i].aKeys[j].name+"="+"guid'"+q1.DraftAdministrativeData[k[i].aKeys[j].name]+"'";}else{s1+=r1+k[i].aKeys[j].name+"="+"guid'"+q1[k[i].aKeys[j].name]+"'";}break;case"Edm.Boolean":if(q1.DraftAdministrativeData&&q1.DraftAdministrativeData.DraftIsCreatedByMe){s1+=r1+k[i].aKeys[j].name+"="+false;}else{s1+=r1+k[i].aKeys[j].name+"="+q1[k[i].aKeys[j].name];}break;default:if(typeof q1[k[i].aKeys[j].name]==="string"){s1+=r1+k[i].aKeys[j].name+"="+"'"+q1[k[i].aKeys[j].name]+"'";}else{s1+=r1+k[i].aKeys[j].name+"="+q1[k[i].aKeys[j].name];}break;}if(j===(u1-1)){s1+=")";}}}return s1;}function b1(k,q1,o){var r1,s1,t1,u1,v1,w1,x1;var y1={semanticObject:"",action:""};n=n1();for(u1 in k.semanticAttributesOfSemanticObjects){r1=n.mixAttributesAndSelectionVariant({},q1);for(t1 in k.semanticAttributesOfSemanticObjects[u1]){if(!r1.getSelectOption(t1)){r1.addParameter(t1,"");}}v1=r1.getPropertyNames();y1.semanticObject=u1;o.adaptNavigationParameterExtension(r1,y1);w1=r1.getSelectOptionsPropertyNames();x1=r1.getParameterNames();for(var i=0,z1=v1.length;i<z1;i++){if(w1.indexOf(v1[i])<0&&x1.indexOf(v1[i])<0){delete k.semanticAttributesOfSemanticObjects[u1][v1[i]];r1.removeSelectOption(v1[i]);}}if(u1===k.semanticObject){var A1=k.semanticAttributesOfSemanticObjects[""];for(var j=0,z1=x1.length;j<z1;j++){if(x1[j]in A1){r1.removeParameter(x1[j]);}else{r1.removeParameter(x1[j]);r1.addParameter(x1[j],k.semanticAttributesOfSemanticObjects[k.semanticObject][x1[j]]);}}r1=n.mixAttributesAndSelectionVariant(k.semanticAttributesOfSemanticObjects[u1],q1);s1=r1.toJSONString();}}delete k.semanticAttributes;n.processBeforeSmartLinkPopoverOpens(k,s1);}function c1(i,j,k){if(!i){return p("DRAFT_OBJECT");}else if(j){return p(k?"LOCKED_OBJECT":"UNSAVED_CHANGES");}else{return"";}}function d1(){var i=m("sap.suite.ui.generic.template.fragments.DraftAdminDataPopover",{formatText:function(){var j=Array.prototype.slice.call(arguments,1);var k=arguments[0];if(!k){return"";}if(j.length>0&&(j[0]===null||j[0]===undefined||j[0]==="")){if(j.length>3&&(j[3]===null||j[3]===undefined||j[3]==="")){return(j.length>2&&(j[1]===null||j[1]===undefined||j[1]===""))?"":j[2];}else{return p(k,j[3]);}}else{return p(k,j[0]);}},closeDraftAdminPopover:function(){i.close();},formatDraftLockText:c1},"admin");return i;}function e1(i,j,k,q1,r1,s1){var t1=s.oApplication.getBusyHelper();if(!r1&&t1.isBusy()){return;}if(!l.isDraftEnabled()){var u1=false;if(k&&k.aUnsavedDataCheckFunctions){u1=k.aUnsavedDataCheckFunctions.some(function(y1){return y1();});}var v1=o.getView();var w1=v1.getModel();if(u1||w1.hasPendingChanges()){var x1;i1(function(){v1.setBindingContext(null);w1.resetChanges();v1.setBindingContext();l.fire(o,"AfterCancel",{});x1=i();},function(){x1=j();},q1,s1);return x1;}}return i();}function f1(i,j,k,q1){var r1=false;if(k&&k.aUnsavedDataCheckFunctions){r1=k.aUnsavedDataCheckFunctions.some(function(t1){return t1();});}if(r1||o.getView().getModel().hasPendingChanges()){var s1;k1(function(){o.getView().getModel().resetChanges();l.fire(o,"AfterCancel",{});s1=i();},function(){s1=j();},q1);return s1;}return i();}function g1(i,j,k,q1,r1,s1){if(r1){return e1(i,j,k,q1,true,s1);}s.oApplication.performAfterSideEffectExecution(e1.bind(null,i,j,k,q1,false,s1));}var h1;function i1(i,j,k,q1){var r1;h1=i;if(!k||!q1){var s1=m("sap.suite.ui.generic.template.fragments.DataLoss",{onDataLossOK:function(){s1.close();h1();},onDataLossCancel:function(){s1.close();j();}},"dataLoss");if(!k){k="LeavePage";}r1=s1.getModel("dataLoss");r1.setProperty("/mode",k);s1.open();}else{var t1=m("sap.suite.ui.generic.template.fragments.DiscardDraftPopover",{onDiscardConfirm:function(){h1();}},"discard");r1=t1.getModel("discard");r1.setProperty("/placement",sap.m.PlacementType.Top);if(k!=="Proceed"){r1.setProperty("/isCreateDraft",true);}else{r1.setProperty("/isCreateDraft",false);}r1.setProperty("/mode",k);t1.openBy(q1.getSource());}}var j1;function k1(i,j,k){j1=i;if(!k){k="LeavePage";}var q1=m("sap.suite.ui.generic.template.fragments.DataLossTechnicalError",{onDataLossOK:function(){q1.close();j1();},onDataLossCancel:function(){q1.close();j();}},"dataLoss");var r1=q1.getModel("dataLoss");r1.setProperty("/mode",k);q1.open();}function l1(i,j,k,q1,r1,s1){if(j.busy.check&&q1.isBusy()){s1();return;}var t1=j.busy.set?function(){q1.setBusy(Promise.resolve());return i();}:i;var u1=j.mConsiderObjectsAsDeleted?function(w1){s.oApplication.prepareDeletion(j.mConsiderObjectsAsDeleted);return t1();}:t1;var v1=(j.dataloss.popup?g1(u1,s1,k,(j.dataloss.navigation?"LeavePage":"Proceed"),true):u1());if(v1 instanceof Promise){v1.then(r1,s1);}else{r1();}}function m1(i,j,k){j=q.extend(true,{busy:{set:true,check:true},dataloss:{popup:true,navigation:false}},j);var q1=s.oApplication.getBusyHelper();var r1=new Promise(function(s1,t1){s.oApplication.performAfterSideEffectExecution(l1.bind(null,i,j,k,q1,s1,t1));});if(j.busy.set){q1.setBusy(r1);}return r1;}function n1(){n=n||new N(o);return n;}function o1(j){var k;var q1=l.getTemplatePrivateModel();var r1,s1,t1,u1,v1,w1=[],x1=[],i,y1,z1,A1,B1,C1,D1;var E1,F1;r1=o.getOwnerComponent().getAppComponent();s1=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService&&sap.ushell.Container.getService("CrossApplicationNavigation");t1=q1.getProperty("/generic/supportedIntents/");if(d(j)){k=j.getToolbar();}else if(c(j)){k=j.getCustomToolbar();}u1=k.getContent();v1=u1.length;for(i=0;i<v1;i++){y1=w(u1[i]);if(y1.hasOwnProperty("SemanticObject")&&y1.hasOwnProperty("Action")){z1=y1.SemanticObject;A1=y1.Action;B1={semanticObject:z1,action:A1,ui5Component:r1};w1.push([B1]);C1=q.extend({},B1);C1.bLinkIsSupported=false;x1.push(C1);}}if(w1.length>0&&s1){D1=s1.getLinks(w1);D1.done(function(G1){t1=q1.getProperty("/generic/supportedIntents/");E1=G1.length;for(i=0;i<E1;i++){if(G1[i][0].length>0){x1[i].bLinkIsSupported=true;}z1=x1[i].semanticObject;A1=x1[i].action;F1=q1.getProperty("/generic/supportedIntents/"+z1);if(!F1){t1[z1]={};t1[z1][A1]={"visible":x1[i].bLinkIsSupported};}else if(!F1[A1]){F1[A1]={"visible":x1[i].bLinkIsSupported};}else{F1[A1]["visible"]=x1[i].bLinkIsSupported;}}q1.updateBindings();});}}function p1(k,q1){var r1=[],s1;var t1=w(k).variantAnnotationPath;if(!t1&&q1){t1=w(q1).variantAnnotationPath;}if(t1){var u1=k.getModel();var v1=u1.getMetaModel();var w1=k.getEntitySet();var x1=v1.getODataEntitySet(w1);var y1=v1.getODataEntityType(x1.entityType);var z1=y1[t1];if(!z1.SelectOptions&&z1.SelectionVariant){z1=z1.SelectionVariant;}if(z1.AnnotationPath){s1=z1.AnnotationPath.split("@")[1];z1=y1[s1];}for(var i in z1.SelectOptions){if(z1.SelectOptions[i].PropertyName){var A1=z1.SelectOptions[i].PropertyName.PropertyPath;for(var j in z1.SelectOptions[i].Ranges){var B1=z1.SelectOptions[i].Ranges[j].Option;B1.EnumMember=B1.EnumMember.replace("com.sap.vocabularies.UI.v1.SelectionRangeOptionType/","");var C1=z1.SelectOptions[i].Ranges[j].Low;var D1=z1.SelectOptions[i].Ranges[j].High;var E1=Object.keys(C1)[0];if(D1){var F1=Object.keys(D1)[0];r1.push(new sap.ui.model.Filter(A1,B1.EnumMember,C1[E1],D1[F1]));}else{r1.push(new sap.ui.model.Filter(A1,B1.EnumMember,C1[E1]));}}}}}return r1;}var n1=t.testable(n1,"getNavigationHandler");var F=t.testable(F,"fillEnabledMapForBreakoutActions");var H=t.testable(H,"getBreakoutActionsForTable");var P=t.testable(P,"getOwnerControl");var v=t.testable(v,"getSelectedContexts");return{isSmartTable:c,isSmartChart:d,isUiTable:e,isAnalyticalTable:f,getNavigationProperty:g,getText:p,getNavigationHandler:n1,getNavigationKeyProperties:_,mergeNavigationKeyPropertiesWithValues:a1,executeGlobalSideEffect:function(){if(l.isDraftEnabled()){var i=o.getView();i.attachBrowserEvent("keyup",function(j){var k=(j.target.type==="search")?true:false;var q1=(j.target.type==="textarea")?true:false;if(j.keyCode===13&&j.ctrlKey!==true&&i.getModel("ui").getProperty("/editable")&&!k&&!q1){var r1=o.getOwnerComponent().getAppComponent().getConfig();var s1=r1.settings&&r1.settings.forceGlobalRefresh;var t1=s.oApplicationController.executeSideEffects(i.getBindingContext(),null,null,s1);t1.then(setTimeout(function(){document.getElementById(j.target.id).focus();},0));}});}},setEnabledToolbarButtons:S,setEnabledFooterButtons:x,fillEnabledMapForBreakoutActions:F,getBreakoutActionsForTable:H,getBreakoutActionsFromManifest:O,getSelectedContexts:v,getSelectionPoints:u,getDeleteRestrictions:G,setPrivateModelControlProperty:y,navigateFromListItem:X,navigateToContext:Y,navigateExternal:$,semanticObjectLinkNavigation:b1,getSelectionVariantFilters:p1,getCustomData:function(j){var k=j.getSource().getCustomData();var q1={};for(var i=0;i<k.length;i++){q1[k[i].getKey()]=k[i].getValue();}return q1;},formatDraftLockText:c1,showDraftPopover:function(i,j){var k=d1();var q1=k.getModel("admin");q1.setProperty("/IsActiveEntity",i.getProperty("IsActiveEntity"));q1.setProperty("/HasDraftEntity",i.getProperty("HasDraftEntity"));k.bindElement({path:i.getPath()+"/DraftAdministrativeData"});if(k.getBindingContext()){k.openBy(j);}else{k.getObjectBinding().attachDataReceived(function(){k.openBy(j);});}},getContentDensityClass:function(){return s.oApplication.getContentDensityClass();},attachControlToView:A,getDialogFragment:m,processDataLossConfirmationIfNonDraft:g1,processDataLossTechnicalErrorConfirmation:f1,securedExecution:m1,getOwnerControl:P,getTableBindingInfo:Q,refreshSmartTable:T,refreshModel:V,getElementCustomData:w,triggerAction:function(i,j,k,q1,r1){g1(function(){s.oCRUDManager.callAction({functionImportPath:k.Action,contexts:i,sourceControl:q1,label:k.Label,operationGrouping:"",navigationProperty:""}).then(function(s1){if(s1&&s1.length>0){var t1=s1[0];if(t1.response&&t1.response.context&&(!t1.actionContext||t1.actionContext&&t1.response.context.getPath()!==t1.actionContext.getPath())){s.oViewDependencyHelper.setMeToDirty(o.getOwnerComponent(),j);}}});},q.noop,r1,"Proceed");},checkToolbarIntentsSupported:o1};}return B.extend("sap.suite.ui.generic.template.lib.CommonUtils",{constructor:function(o,s,i){q.extend(this,h(o,s,i));}});});
